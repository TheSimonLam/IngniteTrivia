{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createStyleResolver;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _createCSSStyleSheet = _interopRequireDefault(require(\"./createCSSStyleSheet\"));\n\nvar _createCompileableStyle = _interopRequireDefault(require(\"./createCompileableStyle\"));\n\nvar _createOrderedCSSStyleSheet = _interopRequireDefault(require(\"./createOrderedCSSStyleSheet\"));\n\nvar _flattenArray = _interopRequireDefault(require(\"../../modules/flattenArray\"));\n\nvar _flattenStyle = _interopRequireDefault(require(\"./flattenStyle\"));\n\nvar _I18nManager = _interopRequireDefault(require(\"../I18nManager\"));\n\nvar _i18nStyle = _interopRequireDefault(require(\"./i18nStyle\"));\n\nvar _compile = require(\"./compile\");\n\nvar _initialRules = _interopRequireDefault(require(\"./initialRules\"));\n\nvar _modality = _interopRequireDefault(require(\"./modality\"));\n\nvar _constants = require(\"./constants\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar emptyObject = {};\n\nfunction createStyleResolver() {\n  var inserted, sheet, lookup;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = (0, _createOrderedCSSStyleSheet.default)((0, _createCSSStyleSheet.default)(_constants.STYLE_ELEMENT_ID));\n    lookup = {\n      byClassName: {},\n      byProp: {}\n    };\n    (0, _modality.default)(function (rule) {\n      return sheet.insert(rule, _constants.STYLE_GROUPS.modality);\n    });\n\n    _initialRules.default.forEach(function (rule) {\n      sheet.insert(rule, _constants.STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToLookup(className, prop, value) {\n    if (!lookup.byProp[prop]) {\n      lookup.byProp[prop] = {};\n    }\n\n    lookup.byProp[prop][value] = className;\n    lookup.byClassName[className] = {\n      prop: prop,\n      value: value\n    };\n  }\n\n  function getClassName(prop, value) {\n    var val = (0, _compile.stringifyValueWithProperty)(value, prop);\n    var cache = lookup.byProp;\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = (0, _createCompileableStyle.default)((0, _i18nStyle.default)((0, _flattenStyle.default)(id)));\n      var results = (0, _compile.atomic)(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToLookup(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = _constants.STYLE_GROUPS.custom[property] || _constants.STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      (0, _flattenArray.default)(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      props = _resolveStyle(style);\n    } else {\n      var flatArray = (0, _flattenArray.default)(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n\n  function resolveWithNode(rnStyleNext, node) {\n    function getDeclaration(className) {\n      return lookup.byClassName[className] || emptyObject;\n    }\n\n    var _getDOMStyleInfo = getDOMStyleInfo(node),\n        rdomClassList = _getDOMStyleInfo.classList,\n        rdomStyle = _getDOMStyleInfo.style;\n\n    var _rdomClassList$reduce = rdomClassList.reduce(function (styleProps, className) {\n      var _getDeclaration = getDeclaration(className),\n          prop = _getDeclaration.prop,\n          value = _getDeclaration.value;\n\n      if (prop) {\n        styleProps.style[prop] = value;\n      } else {\n        styleProps.classList.push(className);\n      }\n\n      return styleProps;\n    }, {\n      classList: [],\n      style: {}\n    }),\n        rnClassList = _rdomClassList$reduce.classList,\n        rnStyle = _rdomClassList$reduce.style;\n\n    var _resolve = resolve([(0, _i18nStyle.default)(rnStyle), rnStyleNext]),\n        rdomClassListNext = _resolve.classList,\n        rdomStyleNext = _resolve.style;\n\n    var className = classListToString(rdomClassListNext.concat(rnClassList));\n\n    var style = _objectSpread({}, rdomStyle);\n\n    rdomClassListNext.forEach(function (className) {\n      var _getDeclaration2 = getDeclaration(className),\n          prop = _getDeclaration2.prop;\n\n      if (style[prop]) {\n        style[prop] = '';\n      }\n    });\n    (0, _extends2.default)(style, rdomStyleNext);\n    return {\n      className: className,\n      style: style\n    };\n  }\n\n  function _resolveStyle(style, key) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = (0, _flattenStyle.default)(style);\n    var localizedStyle = (0, _createCompileableStyle.default)((0, _i18nStyle.default)(flatStyle));\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = (0, _compile.atomic)((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.keys(a).forEach(function (key) {\n              var _a$key = a[key],\n                  identifier = _a$key.identifier,\n                  rules = _a$key.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, _constants.STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            }\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = (0, _compile.inline)(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent();\n\n      if (!_ExecutionEnvironment.canUseDOM) {\n        init();\n      }\n\n      return {\n        id: _constants.STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = (0, _compile.classic)(style, name);\n        Object.keys(compiled).forEach(function (key) {\n          var _compiled$key = compiled[key],\n              identifier = _compiled$key.identifier,\n              rules = _compiled$key.rules;\n          resolved.css[identifier] = {\n            group: group || _constants.STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n    sheet: sheet,\n    resolveWithNode: resolveWithNode\n  };\n}\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n\nvar hyphenPattern = /-([a-z])/g;\n\nvar toCamelCase = function toCamelCase(str) {\n  return str.replace(hyphenPattern, function (m) {\n    return m[1].toUpperCase();\n  });\n};\n\nvar getDOMStyleInfo = function getDOMStyleInfo(node) {\n  var nodeStyle = node.style;\n  var classList = Array.prototype.slice.call(node.classList);\n  var style = {};\n\n  for (var i = 0; i < nodeStyle.length; i += 1) {\n    var property = nodeStyle.item(i);\n\n    if (property) {\n      style[toCamelCase(property)] = nodeStyle.getPropertyValue(property);\n    }\n  }\n\n  return {\n    classList: classList,\n    style: style\n  };\n};","map":{"version":3,"sources":["E:/Projects/IgniteTrivia/node_modules/react-native-web/dist/exports/StyleSheet/createStyleResolver.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","emptyObject","createStyleResolver","inserted","sheet","lookup","resolved","css","ltr","rtl","rtlNoSwap","init","STYLE_ELEMENT_ID","byClassName","byProp","rule","insert","STYLE_GROUPS","modality","initialRules","reset","addToLookup","className","prop","getClassName","val","cache","hasOwnProperty","_injectRegisteredStyle","id","doLeftAndRightSwapInRTL","I18nManager","isRTL","dir","style","results","_results$key","identifier","property","rules","group","custom","atomic","resolve","classList","nextClassList","props","Array","isArray","item","createCacheKey","_resolveStyle","flatArray","isArrayOfNumbers","cacheKey","_key","finalProps","classListToString","resolveWithNode","rnStyleNext","node","getDeclaration","_getDOMStyleInfo","getDOMStyleInfo","rdomClassList","rdomStyle","_rdomClassList$reduce","reduce","styleProps","_getDeclaration","rnClassList","rnStyle","_resolve","rdomClassListNext","rdomStyleNext","concat","_getDeclaration2","flatStyle","localizedStyle","sort","styleProp","_atomic","a","_a$key","getStyleSheet","textContent","getTextContent","canUseDOM","createCSS","result","name","compiled","_compiled$key","classic","prefix","list","join","trim","hyphenPattern","toCamelCase","str","replace","m","toUpperCase","nodeStyle","prototype","slice","call","getPropertyValue"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n/**\n * WARNING: changes to this file in particular can cause significant changes to\n * the results of render performance benchmarks.\n */\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport createCSSStyleSheet from './createCSSStyleSheet';\nimport createCompileableStyle from './createCompileableStyle';\nimport createOrderedCSSStyleSheet from './createOrderedCSSStyleSheet';\nimport flattenArray from '../../modules/flattenArray';\nimport flattenStyle from './flattenStyle';\nimport I18nManager from '../I18nManager';\nimport i18nStyle from './i18nStyle';\nimport { atomic, classic, inline, stringifyValueWithProperty } from './compile';\nimport initialRules from './initialRules';\nimport modality from './modality';\nimport { STYLE_ELEMENT_ID, STYLE_GROUPS } from './constants';\nvar emptyObject = {};\nexport default function createStyleResolver() {\n  var inserted, sheet, lookup;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = createOrderedCSSStyleSheet(createCSSStyleSheet(STYLE_ELEMENT_ID));\n    lookup = {\n      byClassName: {},\n      byProp: {}\n    };\n    modality(function (rule) {\n      return sheet.insert(rule, STYLE_GROUPS.modality);\n    });\n    initialRules.forEach(function (rule) {\n      sheet.insert(rule, STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToLookup(className, prop, value) {\n    if (!lookup.byProp[prop]) {\n      lookup.byProp[prop] = {};\n    }\n\n    lookup.byProp[prop][value] = className;\n    lookup.byClassName[className] = {\n      prop: prop,\n      value: value\n    };\n  }\n\n  function getClassName(prop, value) {\n    var val = stringifyValueWithProperty(value, prop);\n    var cache = lookup.byProp;\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var doLeftAndRightSwapInRTL = I18nManager.doLeftAndRightSwapInRTL,\n        isRTL = I18nManager.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = createCompileableStyle(i18nStyle(flattenStyle(id)));\n      var results = atomic(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToLookup(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = STYLE_GROUPS.custom[property] || STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      flattenArray(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      // fast and cachable\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      // resolve a plain RN style object\n      props = _resolveStyle(style);\n    } else {\n      // flatten the style array\n      // cache resolved props when all styles are registered\n      // otherwise fallback to resolving\n      var flatArray = flattenArray(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes, accounting for\n   * the existing styles applied to the DOM node.\n   *\n   * To determine the next style, some of the existing DOM state must be\n   * converted back into React Native styles.\n   */\n\n\n  function resolveWithNode(rnStyleNext, node) {\n    function getDeclaration(className) {\n      return lookup.byClassName[className] || emptyObject;\n    }\n\n    var _getDOMStyleInfo = getDOMStyleInfo(node),\n        rdomClassList = _getDOMStyleInfo.classList,\n        rdomStyle = _getDOMStyleInfo.style; // Convert the DOM classList back into a React Native form\n    // Preserves unrecognized class names.\n\n\n    var _rdomClassList$reduce = rdomClassList.reduce(function (styleProps, className) {\n      var _getDeclaration = getDeclaration(className),\n          prop = _getDeclaration.prop,\n          value = _getDeclaration.value;\n\n      if (prop) {\n        styleProps.style[prop] = value;\n      } else {\n        styleProps.classList.push(className);\n      }\n\n      return styleProps;\n    }, {\n      classList: [],\n      style: {}\n    }),\n        rnClassList = _rdomClassList$reduce.classList,\n        rnStyle = _rdomClassList$reduce.style; // Create next DOM style props from current and next RN styles\n\n\n    var _resolve = resolve([i18nStyle(rnStyle), rnStyleNext]),\n        rdomClassListNext = _resolve.classList,\n        rdomStyleNext = _resolve.style; // Final className\n    // Add the current class names not managed by React Native\n\n\n    var className = classListToString(rdomClassListNext.concat(rnClassList)); // Final style\n    // Next class names take priority over current inline styles\n\n    var style = _objectSpread({}, rdomStyle);\n\n    rdomClassListNext.forEach(function (className) {\n      var _getDeclaration2 = getDeclaration(className),\n          prop = _getDeclaration2.prop;\n\n      if (style[prop]) {\n        style[prop] = '';\n      }\n    }); // Next inline styles take priority over current inline styles\n\n    Object.assign(style, rdomStyleNext);\n    return {\n      className: className,\n      style: style\n    };\n  }\n  /**\n   * Resolves a React Native style object\n   */\n\n\n  function _resolveStyle(style, key) {\n    var doLeftAndRightSwapInRTL = I18nManager.doLeftAndRightSwapInRTL,\n        isRTL = I18nManager.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr'; // faster: memoized\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = flattenStyle(style);\n    var localizedStyle = createCompileableStyle(i18nStyle(flatStyle)); // slower: convert style object to props and cache\n\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = atomic((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.keys(a).forEach(function (key) {\n              var _a$key = a[key],\n                  identifier = _a$key.identifier,\n                  rules = _a$key.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = inline(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent(); // Reset state on the server so critical css is always the result\n\n      if (!canUseDOM) {\n        init();\n      }\n\n      return {\n        id: STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = classic(style, name);\n        Object.keys(compiled).forEach(function (key) {\n          var _compiled$key = compiled[key],\n              identifier = _compiled$key.identifier,\n              rules = _compiled$key.rules;\n          resolved.css[identifier] = {\n            group: group || STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n    sheet: sheet,\n    resolveWithNode: resolveWithNode\n  };\n}\n/**\n * Misc helpers\n */\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n/**\n * Copies classList and style data from a DOM node\n */\n\n\nvar hyphenPattern = /-([a-z])/g;\n\nvar toCamelCase = function toCamelCase(str) {\n  return str.replace(hyphenPattern, function (m) {\n    return m[1].toUpperCase();\n  });\n};\n\nvar getDOMStyleInfo = function getDOMStyleInfo(node) {\n  var nodeStyle = node.style;\n  var classList = Array.prototype.slice.call(node.classList);\n  var style = {}; // DOM style is a CSSStyleDeclaration\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n\n  for (var i = 0; i < nodeStyle.length; i += 1) {\n    var property = nodeStyle.item(i);\n\n    if (property) {\n      // DOM style uses hyphenated prop names and may include vendor prefixes\n      // Transform back into React DOM style.\n      style[toCamelCase(property)] = nodeStyle.getPropertyValue(property);\n    }\n  }\n\n  return {\n    classList: classList,\n    style: style\n  };\n};"]},"metadata":{},"sourceType":"script"}